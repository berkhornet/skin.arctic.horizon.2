<?xml version="1.0" encoding="UTF-8"?>
<window type="dialog">
    <defaultcontrol always="true">5000</defaultcontrol>
    <menucontrol>9000</menucontrol>
    <onunload>CancelAlarm(SetTrailerDelayed,silent)</onunload>
    <onunload>ClearProperty(HasTrailer,Home)</onunload>
    <controls>

        <control type="group">
            <animation effect="slide" start="0" end="-big_poster_w" time="800" tween="cubic" easing="out" condition="Window.IsActive(1120)" reversible="false">Conditional</animation>
            <animation effect="slide" end="0" start="-big_poster_w" time="800" tween="cubic" easing="out" condition="!Window.IsActive(1120)" reversible="false">Conditional</animation>
            <control type="group">
                <width>big_poster_w</width>
                <include>Animation_Left_Delay</include>
                <include content="Object_BigPoster">
                    <param name="diffuse" value="diffuse/poster_w544_h800.png" />
                    <include>Dimension_Info</include>
                </include>
            </control>

            <include content="Dialog_Info_RightSide">
                <control type="group">
                    <visible>!Window.IsActive(1120)</visible>
                    <include>Animation_DialogInfo_Recommendations</include>
                    <include content="Object_Include" condition="![Skin.String(DividerStyle,Split) | Skin.String(DividerStyle,Solid)]">
                        <left>-80</left>
                    </include>

                    <!-- Info -->
                    <control type="group">
                        <visible>!Control.HasFocus(61)</visible>
                        <include>Dimension_Info</include>
                        <visible>!Control.HasFocus(7001) | !Player.HasVideo</visible>
                        <include content="Info_Panel" condition="!$EXP[Exp_IsPersonInfo]">
                            <param name="plotheight" value="120" />
                            <param name="plotheight_nr" value="160" />
                        </include>
                        <include content="Info_Panel" condition="$EXP[Exp_IsPersonInfo]">
                            <param name="plotheight_nr" value="560" />
                        </include>
                        <control type="group">
                            <top>360</top>
                            <height>80</height>
                            <include content="Object_Control" condition="!$EXP[Exp_IsPersonInfo]">
                                <param name="control" value="grouplist" />
                                <param name="id" value="5000" />
                                <left>-40</left>
                                <itemgap>-60</itemgap>
                                <orientation>horizontal</orientation>
                                <height>256</height>
                                <centertop>50%</centertop>
                                <onleft>noop</onleft>
                                <onright>menu</onright>

                                <!-- Property to reset textbox scroll position -->
                                <onup condition="String.IsEmpty(Window(Home).Property(ResetScroll))">SetProperty(ResetScroll," ",home)</onup>
                                <onup condition="!String.IsEmpty(Window(Home).Property(ResetScroll))">ClearProperty(ResetScroll,home)</onup>
                                <onup>61</onup>

                                <include>Action_Recommendations_OnDown</include>
                                <include>Items_DialogVideoInfo_MenuBar</include>
                            </include>
                            <include content="Object_Hidden_Button" condition="$EXP[Exp_IsPersonInfo]">
                                <param name="id" value="5000" />
                                <onup condition="String.IsEmpty(Window(Home).Property(ResetScroll))">SetProperty(ResetScroll," ",home)</onup>
                                <onup condition="!String.IsEmpty(Window(Home).Property(ResetScroll))">ClearProperty(ResetScroll,home)</onup>
                                <onup>61</onup>
                                <include>Action_Recommendations_OnDown</include>
                            </include>
                        </control>
                        <control type="group">
                            <top>480</top>
                            <include>Dialog_VideoInfoDetails</include>
                        </control>
                    </control>

                    <!-- Plot Box -->
                    <control type="group">
                        <include>Dimension_Info</include>
                        <include>Info_Title</include>
                        <visible allowhiddenfocus="true">Control.HasFocus(61)</visible>
                        <include content="Object_Control">
                            <param name="control" value="textbox" />
                            <top>120</top>
                            <bottom>80</bottom>
                            <align>left</align>
                            <textcolor>main_fg_70</textcolor>
                            <font>font_overlay_plotbox</font>
                            <label fallback="19055">$INFO[ListItem.Tagline,[B]$LOCALIZE[202][/B][CR],[CR][CR]]$VAR[Label_Plot,[B]$LOCALIZE[31028][/B][CR],]$VAR[Label_OverlayCritics]$INFO[Window(Home).Property(ResetScroll)]</label>
                            <pagecontrol>61</pagecontrol>
                            <autoscroll delay="8000" time="4000" repeat="12000">false</autoscroll>
                        </include>
                        <control type="scrollbar" id="61">
                            <centerright>-40</centerright>
                            <width>8</width>

                            <onleft>SetFocus(5000)</onleft>
                            <onright>SetFocus(5000)</onright>
                            <ondown>SetFocus(5000)</ondown>
                            <onup>SetFocus(5000)</onup>

                            <visible allowhiddenfocus="true">false</visible>
                        </control>
                    </control>

                    <!-- Codecs -->
                    <control type="group">
                        <visible>!Control.HasFocus(7001) | !Player.HasVideo</visible>
                        <include>Furniture_Bottom</include>
                    </control>
                </control>
            </include>

            <include>Furniture_Top_Left</include>
        </control>

        <control type="group">
            <visible>!Window.IsVisible(1120)</visible>
            <include>Furniture_Top_Right</include>
        </control>

        <include content="Object_Options_Menu">
            <param name="grouplist_items" value="Items_DialogVideoInfo_Options" />
            <param name="visible" value="!$EXP[Exp_OverlayDialogs]" />
            <param name="onback" value="5000" />
        </include>

        <control type="button" id="7000">
            <texturefocus />
            <texturenofocus />
            <font />
            <width>1</width>
            <height>1</height>
            <onfocus>SetFocus(5000)</onfocus>
            <onleft>SetFocus(5000)</onleft>
            <onright>SetFocus(5000)</onright>
            <onup>SetFocus(5000)</onup>
            <ondown>SetFocus(5000)</ondown>
            <onclick>SetFocus(5000)</onclick>
        </control>

        <control type="button" id="7001">
            <texturefocus />
            <texturenofocus />
            <font />
            <width>1</width>
            <height>1</height>
            <onfocus condition="!Skin.HasSetting(DisableTrailerWindow)">CancelAlarm(SetTrailerDelayed,silent)</onfocus>
            <onfocus condition="!Skin.HasSetting(DisableTrailerWindow)">ClearProperty(HasTrailer,Home)</onfocus>
            <onfocus condition="!Skin.HasSetting(DisableTrailerWindow)">AlarmClock(SetTrailerDelayed,SetProperty(HasTrailer,$INFO[ListItem.Trailer],Home),00:01,silent)</onfocus>

            <onleft condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">SetFocus(5000)</onleft>
            <onleft condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</onleft>
            <onleft condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">ClearProperty(HasTrailer,Home)</onleft>
            <onleft condition="!Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Stop</onleft>
            <onright condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">SetFocus(5000)</onright>
            <onright condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</onright>
            <onright condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">ClearProperty(HasTrailer,Home)</onright>
            <onright condition="!Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Stop</onright>
            <onup condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">SetFocus(5000)</onup>
            <onup condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</onup>
            <onup condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">ClearProperty(HasTrailer,Home)</onup>
            <onup condition="!Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Stop</onup>
            <ondown condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">SetFocus(5000)</ondown>
            <ondown condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</ondown>
            <ondown condition="!Skin.HasSetting(DisableTrailerWindow) | !Player.HasVideo">ClearProperty(HasTrailer,Home)</ondown>
            <ondown condition="!Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Stop</ondown>
            <onback>SetFocus(5000)</onback>
            <onback>CancelAlarm(SetTrailerDelayed,silent)</onback>
            <onback>ClearProperty(HasTrailer,Home)</onback>
            <onback condition="Player.HasVideo">Stop</onback>
            <oninfo>SetFocus(5000)</oninfo>
            <oninfo>CancelAlarm(SetTrailerDelayed,silent)</oninfo>
            <oninfo>ClearProperty(HasTrailer,Home)</oninfo>
            <oninfo condition="Player.HasVideo">Stop</oninfo>
            <onclick condition="Player.HasVideo">Fullscreen</onclick>
            <onclick>CancelAlarm(SetTrailerDelayed,silent)</onclick>
            <onclick>ClearProperty(HasTrailer,Home)</onclick>
            <onleft condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Fullscreen</onleft>
            <onleft condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">StepBack</onleft>
            <onleft condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</onleft>
            <onleft condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">ClearProperty(HasTrailer,Home)</onleft>
            <onright condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Fullscreen</onright>
            <onright condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">StepForward</onright>
            <onright condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</onright>
            <onright condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">ClearProperty(HasTrailer,Home)</onright>
            <onup condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Fullscreen</onup>
            <onup condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">BigStepForward</onup>
            <onup condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</onup>
            <onup condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">ClearProperty(HasTrailer,Home)</onup>
            <ondown condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">Fullscreen</ondown>
            <ondown condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">BigStepBack</ondown>
            <ondown condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">CancelAlarm(SetTrailerDelayed,silent)</ondown>
            <ondown condition="Skin.HasSetting(DisableTrailerWindow) + Player.HasVideo">ClearProperty(HasTrailer,Home)</ondown>
        </control>

        <!-- Trailer -->
        <control type="group">
            <left>big_poster_w</left>
            <control type="group">
                <include content="Object_Include" condition="![Skin.String(DividerStyle,Split) | Skin.String(DividerStyle,Solid)]">
                    <left>-80</left>
                </include>
                <control type="group">
                    <include>Dimension_Info</include>
                    <visible>Player.HasVideo</visible>
                    <control type="image">
                        <include>Texture_Shadow_40</include>
                        <visible>Control.HasFocus(7001)</visible>
                        <include>Animation_Right_Delay</include>
                        <texture colordiffuse="black" border="10">common/box.png</texture>
                    </control>
                    <control type="videowindow">
                        <visible>Control.HasFocus(7001)</visible>
                        <visible>!String.IsEmpty(Window(Home).Property(HasTrailer))</visible>
                    </control>
                </control>
            </control>
        </control>
    </controls>
</window>